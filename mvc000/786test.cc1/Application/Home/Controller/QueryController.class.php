<?phpnamespace Home\Controller;use Think\Controller;class QueryController extends CommonController{    public function index(){		if (IS_POST) {			$username = I('post.username');			$cate_id = I('post.id', 0, 'intval');			if($username ==""){			   outputjson(array('status'=>0, 'msg'=>'请输入用户名！'));			}			if(!preg_match("/^[a-zA-Z0-9_-]{4,16}$/", $username)) {			   outputjson(array('status'=>0, 'msg'=>'用户名不合法，4-16位账号，仅限于字母加数字！'));			}			if($cate_id <= 0){				outputjson(array('status'=>0, 'msg'=>'请指定查询项目！'));			}			$info = D('Post')->where(array('username'=>$username, 'cate_id'=>$cate_id))->order('id desc')->find();												if(!$info){//				outputjson(array('status'=>0, 'msg'=>'对不起，查询不到相关申请信息！'));                $data['status']= 0;                $data['msg']= '对不起，查询不到相关申请信息！';                $this->ajaxReturn($data);			}elseif($info['status'] == 0){//				outputjson(array('status'=>0, 'msg'=>'对不起，您申请的优惠信息正在审核中，请耐心等待！'));                $data['status']= 0;                $data['msg']= '对不起，您申请的优惠信息正在审核中，请耐心等待！';                $this->ajaxReturn($data);			}elseif($info['status'] == 2){				//outputjson(array('status'=>2, 'msg'=>'很抱歉，您申请的优惠信息未能通过审核！'.$info['memo'].'', 'memo'=>$info['memo']));//				outputjson(array('status'=>2, 'msg'=>$info['memo'], 'memo'=>$info['memo']));                $data['status']= 2;                $data['msg']= '很抱歉，您申请的优惠信息未能通过审核！'.$info['memo'];                $this->ajaxReturn($data);			}else{				//outputjson(array('status'=>1, 'msg'=>'恭喜您，优惠申请已审核通过！获得彩金：'.$info['handsel'].'元！'.$info['memo'].'', 'memo'=>$info['memo']));//				outputjson(array('status'=>1, 'msg'=>$info['memo'], 'memo'=>$info['memo']));				$data['status']= 1;				$data['msg']= '恭喜您，申请已审核通过！'.$info['memo'];				$this->ajaxReturn($data);			}		}else{			$apps = D('Category')->where(array('status'=>1))->order('sort DESC')->field('id,name')->select();			$this->assign("apps", $apps);			$this->display();		}	}}